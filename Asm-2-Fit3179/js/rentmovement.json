{
    "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
    "background": "#faf0e6",
    "data": {
      "url": "https://raw.githubusercontent.com/jytKelly12/FIT3179/main/cleaned_rents_data.csv"
    },
    "transform": [
      {
        "calculate": "slice(datum.Date, -2) + (slice(datum.Date, 0, 3) === 'Mar' ? 0.3 : slice(datum.Date, 0, 3) === 'Jun' ? 0.6 : slice(datum.Date, 0, 3) === 'Sep' ? 0.9 : 0.12)",
        "as": "sort_order"
      },
      {
        "filter": "datum.Date !== 'Source: Australian Bureau of Statistics, Consumer Price Index, Australia June Quarter 2023'"
      }
    ],
    "vconcat": [
      {
        "width": 900,
        "height": 340,
        "mark": "line",
        "encoding": {
          "x": {
            "field": "Date",
            "type": "ordinal",
            "sort": {
              "field": "sort_order",
              "order": "ascending"
            },
            "scale": {"domain": {"param": "brush"}},
            "axis": {"title": "", "tickCount": 10}
          },
          "y": {
            "field": "Annual Movement (%)",
            "type": "quantitative",
            "title": "Annual Movement (%)"
          },
          "color": {
            "field": "Location",
            "type": "nominal",
            "title": "Location"
          },
          "tooltip": [
            {"field": "Date", "type": "ordinal"},
            {"field": "Location", "type": "nominal"},
            {"field": "Annual Movement (%)", "type": "quantitative"}
          ]
        }
      },
      {
        "width": 900,
        "height": 60,
        "mark": "line",
        "params": [
          {"name": "brush", "select": {"type": "interval", "encodings": ["x"]}}
        ],
        "encoding": {
          "x": {
            "field": "Date",
            "type": "ordinal",
            "sort": {
              "field": "sort_order",
              "order": "ascending"
            },
            "axis": {"tickCount": 10}
          },
          "y": {
            "field": "Annual Movement (%)",
            "type": "quantitative",
            "axis": {"tickCount": 3, "grid": false}
          },
          "color": {
            "field": "Location",
            "type": "nominal"
          }
        }
      }
    ]
  }
  